<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>06_数据劫持-数据绑定</title>
</head>
<body>
</body>
<div id="test">
  <!-- 
    每个模板语法/表达式都有一个对应的watcher 
    每个watcher都有一个对应的节点(将来需要更新)
    每个watcher都有一个用于更新节点的回调函数
  -->
  <p>{{name}}</p>
  <p v-text="name"></p>
  <p v-text="wife.name"></p>
  <button v-on:click="update">更新</button>  
</div>

<script src="./js/compile.js"></script>
<script src="./js/mvvm.js"></script>
<script src="./js/observer.js"></script>
<script src="./js/watcher.js"></script>
<script>
  const vm = new MVVM({
    el: '#test',
    data: {
      name: 'tom',
      wife: {
        name: 'Jerry',
        age: 24
      }
    },
    methods: {
      update () {
        this.name = 'jack'
        this.wife.name = 'Rose'
      }
    }
  })

</script>
</html>
