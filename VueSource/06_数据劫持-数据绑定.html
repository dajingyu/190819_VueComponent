<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>06_数据劫持-数据绑定</title>
</head>
<body>
</body>
<div id="test">
  <!-- 
    每个模板语法/表达式都有一个对应的watcher 
    每个watcher都有一个对应的节点(将来需要更新)
    每个watcher都有一个用于更新节点的回调函数
  -->
  <p>{{name}}</p> <!-- w1 -->
  <p v-text="name"></p> <!-- w2 -->
  <p v-text="wife.name"></p> <!-- w3 -->
  <button v-on:click="update">更新</button>  
</div>

<script src="./js/compile.js"></script>
<script src="./js/mvvm.js"></script>
<script src="./js/observer.js"></script>
<script src="./js/watcher.js"></script>
<script>
  const vm = new MVVM({
    el: '#test',
    data: {
      name: 'tom',  // d0
      wife: { // d1
        name: 'Jerry', // d2
        age: 24 // d3
      }
    },
    methods: {
      update () {
        this.name = 'jack'  // d0  ==> w1/w2
        this.wife.name = 'Rose' // d2 ==> w3
      }
    }
  })

</script>
</html>
